/* ============================================
   dcln.me â€” Global Styles
   Dark minimal portfolio
   ============================================ */

@layer reset, base, components, utilities;

/* --- Reset --- */
@layer reset {
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    hanging-punctuation: first last;
    color-scheme: dark;
  }

  body {
    min-height: 100dvh;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  img,
  picture,
  video,
  canvas,
  svg {
    display: block;
    max-width: 100%;
  }

  input,
  button,
  textarea,
  select {
    font: inherit;
  }

  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    overflow-wrap: break-word;
  }
}

/* --- Design Tokens --- */
@layer base {
  :root {
    /* Colors */
    --color-bg: #0a0a0a;
    --color-bg-raised: #111111;
    --color-bg-elevated: #1a1a1a;
    --color-border: #2a2a2a;
    --color-border-hover: #3a3a3a;

    --color-text: #e8e8e8;
    --color-text-muted: #888888;
    --color-text-faint: #555555;

    --color-accent: #3b82f6;
    --color-accent-hover: color-mix(in oklch, var(--color-accent), white 15%);
    --color-accent-subtle: color-mix(in oklch, var(--color-accent), transparent 85%);

    /* Typography */
    --font-mono: 'JetBrains Mono', 'Fira Code', ui-monospace, monospace;
    --font-sans: 'Inter', system-ui, -apple-system, sans-serif;

    --text-xs: clamp(0.7rem, 0.65rem + 0.25vw, 0.8rem);
    --text-sm: clamp(0.8rem, 0.75rem + 0.25vw, 0.9rem);
    --text-base: clamp(0.9rem, 0.85rem + 0.25vw, 1rem);
    --text-lg: clamp(1.1rem, 1rem + 0.5vw, 1.25rem);
    --text-xl: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
    --text-2xl: clamp(1.5rem, 1.2rem + 1.5vw, 2rem);
    --text-3xl: clamp(2rem, 1.5rem + 2.5vw, 3rem);
    --text-4xl: clamp(2.5rem, 1.8rem + 3.5vw, 4rem);

    --leading-tight: 1.2;
    --leading-normal: 1.6;

    /* Spacing */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;
    --space-3xl: 5rem;
    --space-4xl: 8rem;

    /* Layout */
    --max-width: 1200px;
    --content-width: 800px;
    --gutter: clamp(1rem, 3vw, 2rem);
    --header-height: 60px;
    --grid-card-min: 320px;
    --z-header: 100;

    /* Borders */
    --radius-sm: 4px;
    --radius-md: 8px;

    /* Transitions */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --duration-fast: 150ms;
    --duration-normal: 300ms;
  }

  body {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    line-height: var(--leading-normal);
    color: var(--color-text);
    background-color: var(--color-bg);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-mono);
    line-height: var(--leading-tight);
    font-weight: 600;
  }

  a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-out);

    &:hover {
      color: var(--color-accent-hover);
    }
  }

  ::selection {
    background: var(--color-accent-subtle);
    color: var(--color-text);
  }

  /* Focus styles */
  :focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }
}

/* --- Component Utilities --- */
@layer components {
  .container {
    width: 100%;
    max-width: var(--max-width);
    margin-inline: auto;
    padding-inline: var(--gutter);
  }

  .container--narrow {
    max-width: var(--content-width);
  }

  /* Scroll-driven fade-in for sections */
  .reveal {
    opacity: 0;
    transform: translateY(20px);
    animation: reveal linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 30%;
  }

  @keyframes reveal {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Tag / pill */
  .tag {
    display: inline-block;
    font-family: var(--font-mono);
    font-size: var(--text-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--color-bg-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    color: var(--color-text-muted);
    white-space: nowrap;
  }

  /* Button base */
  .btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    font-weight: 500;
    padding: var(--space-sm) var(--space-xl);
    border-radius: var(--radius-sm);
    text-decoration: none;
    transition: all var(--duration-normal) var(--ease-out);
  }

  .btn--primary {
    background: var(--color-accent);
    color: white;
    border: 1px solid var(--color-accent);

    &:hover {
      background: var(--color-accent-hover);
      color: white;
      transform: translateY(-1px);
    }
  }

  .btn--ghost {
    background: transparent;
    color: var(--color-text-muted);
    border: 1px solid var(--color-border);

    &:hover {
      border-color: var(--color-text-muted);
      color: var(--color-text);
      transform: translateY(-1px);
    }
  }

  /* Card grid */
  .card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(var(--grid-card-min), 1fr));
    gap: var(--space-lg);
  }

  @media (max-width: 640px) {
    .card-grid {
      grid-template-columns: 1fr;
    }
  }
}

/* --- Utilities --- */
@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
}
